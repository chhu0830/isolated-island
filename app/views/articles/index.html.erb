<%= stylesheet_link_tag 'zine', 'data-turbolinks-track': 'reload' %>
<%= javascript_include_tag 'zine', 'data-tracurbolinks-track': 'reload' %>

<div class="container-fluid">
  <div id="banner">
    <%= image_tag 'banner.jpg', id: 'banner-img', class: 'img-responsive' %>
    <div id="arrow" class="glyphicon glyphicon-menu-down"></div>
  </div>
  <div id="article">
    <div id="threeglitch">
      <%= render 'glitch', articles: @articles %>
    </div>
    <div>
      <a href="/articles/1">
        <div style="margin:0; padding:0; display:inline-block">
          <div><canvas id="canvas1" class="box"></canvas></div>
            <div id="title1" style="position:absolute; height:250px; width:250px; color:white; margin-top:-265px; margin-left:15px; padding-left:5px; font-size:2em; z-index:1000; text-align:left;">
            </div>
        </div>
      </a>
      <a href="/articles/2">
        <div style="margin:0; padding:0; display:inline-block">
          <div><canvas id="canvas2" class="box"></canvas></div>
            <div id="title2" style="position:absolute; height:250px; width:250px; color:white; margin-top:-265px; margin-left:15px; padding-left:5px; font-size:2em; z-index:1000; text-align:left;">
            </div>
        </div>
      </a>
      <a href="/articles/3">
        <div style="margin:0; padding:0; display:inline-block">
          <div><canvas id="canvas3" class="box"></canvas></div>
            <div id="title3" style="position:absolute; height:250px; width:250px; color:white; margin-top:-265px; margin-left:15px; padding-left:5px; font-size:2em; z-index:1000; text-align:left;">
            </div>
        </div>
      </a>
    </div>
    <div>
      <a href="/articles/4">
        <div style="margin:0; padding:0; display:inline-block">
          <div><canvas id="canvas4" class="box"></canvas></div>
            <div id="title4" style="position:absolute; height:250px; width:250px; color:white; margin-top:-265px; margin-left:15px; padding-left:5px; font-size:2em; z-index:1000; text-align:left;">
            </div>
        </div>
      </a>
      <a href="/articles/5">
        <div style="margin:0; padding:0; display:inline-block">
          <div><canvas id="canvas5" class="box"></canvas></div>
            <div id="title5" style="position:absolute; height:250px; width:250px; color:white; margin-top:-265px; margin-left:15px; padding-left:5px; font-size:2em; z-index:1000; text-align:left;">
            </div>
        </div>
      </a>
      <a href="/articles/6">
        <div style="margin:0; padding:0; display:inline-block">
          <div><canvas id="canvas6" class="box"></canvas></div>
            <div id="title6" style="position:absolute; height:250px; width:250px; color:white; margin-top:-265px; margin-left:15px; padding-left:5px; font-size:2em; z-index:1000; text-align:left;">
            </div>
        </div>
      </a>
    </div>
    <div>
      <a href="/articles/7">
        <div style="margin:0; padding:0; display:inline-block">
          <div><canvas id="canvas7" class="box"></canvas></div>
            <div id="title7" style="position:absolute; height:250px; width:250px; color:white; margin-top:-265px; margin-left:15px; padding-left:5px; font-size:2em; z-index:1000; text-align:left;">
            </div>
        </div>
      </a>
      <a href="/articles/8">
        <div style="margin:0; padding:0; display:inline-block">
          <div><canvas id="canvas8" class="box"></canvas></div>
            <div id="title8" style="position:absolute; height:250px; width:250px; color:white; margin-top:-265px; margin-left:15px; padding-left:5px; font-size:2em; z-index:1000; text-align:left;">
            </div>
        </div>
      </a>
      <canvas id="canvas" class="box"></canvas>
    </div>
  </div>
 
</div>

<script>
$(document).ready(function(){
    $('.back').hide(); //back是咖啡背景字
    });
</script>

<% @articles.each do |a| %>
<script>
$(function(){
    $('<%= "#title#{a.id}" %>').mouseenter(function(){
      var back_topic = '#' + 'box_' + $(this).attr('id');
      $('<%= "#box_canvas#{a.id}" %>').show();
      });
    $('<%= "#title#{a.id}" %>').mouseenter(function(){
      window.setTimeout(function() {
        $('<%= "#title#{a.id}" %>').html("<h1><%= a.title %></h1><h3><%= a.author.name %></h3>");
        }, 1000);
      });
    $('<%= "#title#{a.id}" %>').mouseout(function(){
      $(this).text("");
      });
    $('<%= "#title#{a.id}" %>').mouseout(function(){
      var back_topic = '#' + $(this).attr('class') + '_' + $(this).attr('id');
      $('<%= "#box_canvas#{a.id}" %>').hide();
      });
    });
</script>
<% end %>
